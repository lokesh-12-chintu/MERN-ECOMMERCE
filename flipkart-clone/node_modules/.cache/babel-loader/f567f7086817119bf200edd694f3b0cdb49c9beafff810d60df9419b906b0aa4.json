{"ast":null,"code":"import axios from \"../helpers/axios\";\nimport { productConstants } from \"./constants\";\nexport const getProductsBySlug = slug => {\n  return async dispatch => {\n    const res = await axios.get(`/products/${slug}`);\n    console.log(res);\n    if (res.status === 200) {\n      dispatch({\n        type: productConstants.GET_PRODUCTS_BY_SLUG,\n        payload: res.data\n      });\n    } else {\n      // dispatch({\n      //     type: \n      // })\n    }\n  };\n};\nexport const getProductPage = payload => {\n  return async dispatch => {\n    try {\n      const {\n        cid,\n        type\n      } = payload.params;\n      const res = await axios.get(`/page/${cid}/${type}`);\n      dispatch({\n        type: productConstants.GET_PRODUCT_PAGE_REQUEST\n      });\n      if (res.status === 200) {\n        const {\n          page\n        } = res.data;\n        dispatch({\n          type: productConstants.GET_PRODUCT_PAGE_SUCCESS,\n          payload: {\n            page\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: productConstants.GET_PRODUCT_PAGE_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const getProductDetailsById = payload => {\n  console.log(params);\n  return async dispatch => {\n    dispatch({\n      type: productConstants.GET_PRODUCT_DETAILS_BY_ID_REQUEST\n    });\n    let res;\n    try {\n      const {\n        productId\n      } = payload.params;\n      res = await axios.get(`/product/${productId}`);\n      console.log(res);\n      dispatch({\n        type: productConstants.GET_PRODUCT_DETAILS_BY_ID_SUCCESS,\n        payload: {\n          productDetails: res.data.product\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      dispatch({\n        type: productConstants.GET_PRODUCT_DETAILS_BY_ID_FAILURE,\n        payload: {\n          error\n        }\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","productConstants","getProductsBySlug","slug","dispatch","res","get","console","log","status","type","GET_PRODUCTS_BY_SLUG","payload","data","getProductPage","cid","params","GET_PRODUCT_PAGE_REQUEST","page","GET_PRODUCT_PAGE_SUCCESS","error","GET_PRODUCT_PAGE_FAILURE","getProductDetailsById","GET_PRODUCT_DETAILS_BY_ID_REQUEST","productId","GET_PRODUCT_DETAILS_BY_ID_SUCCESS","productDetails","product","GET_PRODUCT_DETAILS_BY_ID_FAILURE"],"sources":["C:/Users/jitta/MERN-ECOMMERCE/flipkart-clone/src/actions/product.action.js"],"sourcesContent":["import axios from \"../helpers/axios\"\r\nimport { productConstants } from \"./constants\"\r\n\r\nexport const getProductsBySlug = (slug) => {\r\n    return async dispatch => {\r\n        const res = await axios.get(`/products/${slug}`);\r\n        console.log(res)\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: productConstants.GET_PRODUCTS_BY_SLUG,\r\n                payload: res.data\r\n            })\r\n        } else {\r\n            // dispatch({\r\n            //     type: \r\n            // })\r\n        }\r\n    }\r\n}\r\n\r\nexport const getProductPage = (payload) => {\r\n    return async dispatch => {\r\n        try {\r\n            const { cid, type } = payload.params;\r\n            const res = await axios.get(`/page/${cid}/${type}`);\r\n            dispatch({ type: productConstants.GET_PRODUCT_PAGE_REQUEST });\r\n            if (res.status === 200) {\r\n                const {page} = res.data \r\n                dispatch({ \r\n                    type:productConstants.GET_PRODUCT_PAGE_SUCCESS, \r\n                    payload:{page} \r\n                });\r\n            } else {\r\n                const{error} = res.data; \r\n                dispatch({ \r\n                    type: productConstants.GET_PRODUCT_PAGE_FAILURE, \r\n                    payload: {error}\r\n                })\r\n            }\r\n        } catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nexport const getProductDetailsById = (payload) => {\r\n    console.log(params)\r\n    return async dispatch => {\r\n        dispatch({type:productConstants.GET_PRODUCT_DETAILS_BY_ID_REQUEST}); \r\n        let res; \r\n        try { \r\n            const {productId} = payload.params; \r\n            res = await axios.get(`/product/${productId}`) \r\n            console.log(res) \r\n            dispatch({ \r\n                type: productConstants.GET_PRODUCT_DETAILS_BY_ID_SUCCESS, \r\n                payload: {productDetails: res.data.product}\r\n            })\r\n        }catch(error){ \r\n            console.log(error) \r\n            dispatch({ \r\n                type: productConstants.GET_PRODUCT_DETAILS_BY_ID_FAILURE, \r\n                payload: {error}\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,kBAAkB;AACpC,SAASC,gBAAgB,QAAQ,aAAa;AAE9C,OAAO,MAAMC,iBAAiB,GAAIC,IAAI,IAAK;EACvC,OAAO,MAAMC,QAAQ,IAAI;IACrB,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,aAAYH,IAAK,EAAC,CAAC;IAChDI,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAChB,IAAIA,GAAG,CAACI,MAAM,KAAK,GAAG,EAAE;MACpBL,QAAQ,CAAC;QACLM,IAAI,EAAET,gBAAgB,CAACU,oBAAoB;QAC3CC,OAAO,EAAEP,GAAG,CAACQ;MACjB,CAAC,CAAC;IACN,CAAC,MAAM;MACH;MACA;MACA;IAAA;EAER,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIF,OAAO,IAAK;EACvC,OAAO,MAAMR,QAAQ,IAAI;IACrB,IAAI;MACA,MAAM;QAAEW,GAAG;QAAEL;MAAK,CAAC,GAAGE,OAAO,CAACI,MAAM;MACpC,MAAMX,GAAG,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,SAAQS,GAAI,IAAGL,IAAK,EAAC,CAAC;MACnDN,QAAQ,CAAC;QAAEM,IAAI,EAAET,gBAAgB,CAACgB;MAAyB,CAAC,CAAC;MAC7D,IAAIZ,GAAG,CAACI,MAAM,KAAK,GAAG,EAAE;QACpB,MAAM;UAACS;QAAI,CAAC,GAAGb,GAAG,CAACQ,IAAI;QACvBT,QAAQ,CAAC;UACLM,IAAI,EAACT,gBAAgB,CAACkB,wBAAwB;UAC9CP,OAAO,EAAC;YAACM;UAAI;QACjB,CAAC,CAAC;MACN,CAAC,MAAM;QACH,MAAK;UAACE;QAAK,CAAC,GAAGf,GAAG,CAACQ,IAAI;QACvBT,QAAQ,CAAC;UACLM,IAAI,EAAET,gBAAgB,CAACoB,wBAAwB;UAC/CT,OAAO,EAAE;YAACQ;UAAK;QACnB,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAMA,KAAK,EAAE;MACXb,OAAO,CAACC,GAAG,CAACY,KAAK,CAAC;IACtB;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAME,qBAAqB,GAAIV,OAAO,IAAK;EAC9CL,OAAO,CAACC,GAAG,CAACQ,MAAM,CAAC;EACnB,OAAO,MAAMZ,QAAQ,IAAI;IACrBA,QAAQ,CAAC;MAACM,IAAI,EAACT,gBAAgB,CAACsB;IAAiC,CAAC,CAAC;IACnE,IAAIlB,GAAG;IACP,IAAI;MACA,MAAM;QAACmB;MAAS,CAAC,GAAGZ,OAAO,CAACI,MAAM;MAClCX,GAAG,GAAG,MAAML,KAAK,CAACM,GAAG,CAAE,YAAWkB,SAAU,EAAC,CAAC;MAC9CjB,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAChBD,QAAQ,CAAC;QACLM,IAAI,EAAET,gBAAgB,CAACwB,iCAAiC;QACxDb,OAAO,EAAE;UAACc,cAAc,EAAErB,GAAG,CAACQ,IAAI,CAACc;QAAO;MAC9C,CAAC,CAAC;IACN,CAAC,QAAMP,KAAK,EAAC;MACTb,OAAO,CAACC,GAAG,CAACY,KAAK,CAAC;MAClBhB,QAAQ,CAAC;QACLM,IAAI,EAAET,gBAAgB,CAAC2B,iCAAiC;QACxDhB,OAAO,EAAE;UAACQ;QAAK;MACnB,CAAC,CAAC;IACN;EACJ,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}