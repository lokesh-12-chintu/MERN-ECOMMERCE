{"ast":null,"code":"import { cartConstants, userConstants } from \"./constants\";\nimport axios from \"../helpers/axios\";\nexport const getAddress = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`/user/getaddress`);\n      dispatch({\n        type: userConstants.GET_USER_ADDRESS_REQUEST\n      });\n      if (res.status === 200) {\n        const {\n          userAddress: {\n            address\n          }\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ADDRESS_SUCCESS,\n          payload: {\n            address\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ADDRESS_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const addAddress = payload => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`/user/address/create`, {\n        payload\n      });\n      dispatch({\n        type: userConstants.ADD_USER_ADDRESS_REQUEST\n      });\n      if (res.status === 201) {\n        console.log(res);\n        const {\n          address: {\n            address\n          }\n        } = res.data;\n        dispatch({\n          type: userConstants.ADD_USER_ADDRESS_SUCCESS,\n          payload: {\n            address\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.ADD_USER_ADDRESS_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const addOrder = payload => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`/addOrder`, payload);\n      dispatch({\n        type: userConstants.ADD_USER_ORDER_REQUEST\n      });\n      if (res.status === 201) {\n        console.log(res);\n        const {\n          order\n        } = res.data;\n        dispatch({\n          type: cartConstants.RESET_CART\n        });\n        dispatch({\n          type: userConstants.ADD_USER_ORDER_SUCCESS,\n          payload: {\n            order\n          }\n        });\n        // const {\n        //   address: { address },\n        // } = res.data;\n        // dispatch({\n        //   type: userConstants.ADD_USER_ADDRESS_SUCCESS,\n        //   payload: { address },\n        // });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.ADD_USER_ORDER_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\nexport const getOrders = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`/getOrders`);\n      dispatch({\n        type: userConstants.GET_USER_ORDER_REQUEST\n      });\n      if (res.status === 200) {\n        console.log(res);\n        const {\n          orders\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ORDER_SUCCESS,\n          payload: {\n            orders\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ORDER_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\n// single order with complete info and delivery location\nexport const getOrder = payload => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`/getOrder`, payload);\n      dispatch({\n        type: userConstants.GET_USER_ORDER_DETAILS_REQUEST\n      });\n      if (res.status === 200) {\n        console.log(res);\n        const {\n          order\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ORDER_DETAILS_SUCCESS,\n          payload: {\n            order\n          }\n        });\n      } else {\n        const {\n          error\n        } = res.data;\n        dispatch({\n          type: userConstants.GET_USER_ORDER_DETAILS_FAILURE,\n          payload: {\n            error\n          }\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"names":["cartConstants","userConstants","axios","getAddress","dispatch","res","post","type","GET_USER_ADDRESS_REQUEST","status","userAddress","address","data","GET_USER_ADDRESS_SUCCESS","payload","error","GET_USER_ADDRESS_FAILURE","console","log","addAddress","ADD_USER_ADDRESS_REQUEST","ADD_USER_ADDRESS_SUCCESS","ADD_USER_ADDRESS_FAILURE","addOrder","ADD_USER_ORDER_REQUEST","order","RESET_CART","ADD_USER_ORDER_SUCCESS","ADD_USER_ORDER_FAILURE","getOrders","get","GET_USER_ORDER_REQUEST","orders","GET_USER_ORDER_SUCCESS","GET_USER_ORDER_FAILURE","getOrder","GET_USER_ORDER_DETAILS_REQUEST","GET_USER_ORDER_DETAILS_SUCCESS","GET_USER_ORDER_DETAILS_FAILURE"],"sources":["C:/Users/jitta/MERN-ECOMMERCE/flipkart-clone/src/actions/user.action.js"],"sourcesContent":["import { cartConstants, userConstants } from \"./constants\";\r\nimport axios from \"../helpers/axios\";\r\n\r\nexport const getAddress = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(`/user/getaddress`);\r\n      dispatch({ type: userConstants.GET_USER_ADDRESS_REQUEST });\r\n      if (res.status === 200) {\r\n        const {\r\n          userAddress: { address },\r\n        } = res.data;\r\n        dispatch({\r\n          type: userConstants.GET_USER_ADDRESS_SUCCESS,\r\n          payload: { address },\r\n        });\r\n      } else {\r\n        const { error } = res.data;\r\n        dispatch({\r\n          type: userConstants.GET_USER_ADDRESS_FAILURE,\r\n          payload: { error },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addAddress = (payload) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(`/user/address/create`, { payload });\r\n      dispatch({ type: userConstants.ADD_USER_ADDRESS_REQUEST });\r\n      if (res.status === 201) {\r\n        console.log(res);\r\n        const {\r\n          address: { address },\r\n        } = res.data;\r\n        dispatch({\r\n          type: userConstants.ADD_USER_ADDRESS_SUCCESS,\r\n          payload: { address },\r\n        });\r\n      } else {\r\n        const { error } = res.data;\r\n        dispatch({\r\n          type: userConstants.ADD_USER_ADDRESS_FAILURE,\r\n          payload: { error },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addOrder = (payload) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(`/addOrder`, payload);\r\n      dispatch({ type: userConstants.ADD_USER_ORDER_REQUEST });\r\n      if (res.status === 201) {\r\n        console.log(res);\r\n        const { order } = res.data;\r\n        dispatch({\r\n          type: cartConstants.RESET_CART,\r\n        });\r\n        dispatch({\r\n          type: userConstants.ADD_USER_ORDER_SUCCESS,\r\n          payload: { order },\r\n        });\r\n        // const {\r\n        //   address: { address },\r\n        // } = res.data;\r\n        // dispatch({\r\n        //   type: userConstants.ADD_USER_ADDRESS_SUCCESS,\r\n        //   payload: { address },\r\n        // });\r\n      } else {\r\n        const { error } = res.data;\r\n        dispatch({\r\n          type: userConstants.ADD_USER_ORDER_FAILURE,\r\n          payload: { error },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getOrders = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.get(`/getOrders`);\r\n      dispatch({ type: userConstants.GET_USER_ORDER_REQUEST });\r\n      if (res.status === 200) {\r\n        console.log(res);\r\n        const { orders } = res.data;\r\n        dispatch({\r\n          type: userConstants.GET_USER_ORDER_SUCCESS,\r\n          payload: { orders },\r\n        });\r\n      } else {\r\n        const { error } = res.data;\r\n        dispatch({\r\n          type: userConstants.GET_USER_ORDER_FAILURE,\r\n          payload: { error },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\n// single order with complete info and delivery location\r\nexport const getOrder = (payload) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const res = await axios.post(`/getOrder`, payload);\r\n      dispatch({ type: userConstants.GET_USER_ORDER_DETAILS_REQUEST });\r\n      if (res.status === 200) {\r\n        console.log(res);\r\n        const { order } = res.data;\r\n        dispatch({\r\n          type: userConstants.GET_USER_ORDER_DETAILS_SUCCESS,\r\n          payload: { order },\r\n        });\r\n      } else {\r\n        const { error } = res.data;\r\n        dispatch({\r\n          type: userConstants.GET_USER_ORDER_DETAILS_FAILURE,\r\n          payload: { error },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}