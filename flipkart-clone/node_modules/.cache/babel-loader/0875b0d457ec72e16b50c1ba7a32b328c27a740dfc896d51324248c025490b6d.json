{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jitta\\\\MERN-ECOMMERCE\\\\flipkart-clone\\\\src\\\\containers\\\\CartPage\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Layout from \"../../components/Layout\";\nimport Card from \"../../components/UI/Card\";\nimport CartItem from \"./CartItem\";\nimport { addToCart, getCartItems, removeCartItem } from \"../../actions\";\nimport PriceDetails from \"../../components/PriceDetails\";\nimport \"./style.css\";\nimport { MaterialButton } from \"../../components/MaterialUI\";\n\n/**\r\n * @author\r\n * @function CartPage\r\n **/\n\n/*\r\nBefore Login\r\nAdd product to cart\r\nsave in localStorage\r\nwhen try to checkout ask for credentials and \r\nif logged in then add products to users cart database from localStorage\r\n\r\n\r\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CartPage = props => {\n  _s();\n  const cart = useSelector(state => state.cart);\n  const auth = useSelector(state => state.auth);\n  // const cartItems = cart.cartItems;\n  const [cartItems, setCartItems] = useState(cart.cartItems);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setCartItems(cart.cartItems);\n  }, [cart.cartItems]);\n  useEffect(() => {\n    if (auth.authenticate) {\n      dispatch(getCartItems());\n    }\n  }, [auth.authenticate]);\n  const onQuantityIncrement = (_id, qty) => {\n    //console.log({_id, qty});\n    const {\n      name,\n      price,\n      img\n    } = cartItems[_id];\n    dispatch(addToCart({\n      _id,\n      name,\n      price,\n      img\n    }, 1));\n  };\n  const onQuantityDecrement = (_id, qty) => {\n    const {\n      name,\n      price,\n      img\n    } = cartItems[_id];\n    dispatch(addToCart({\n      _id,\n      name,\n      price,\n      img\n    }, -1));\n  };\n  const onRemoveCartItem = _id => {\n    dispatch(removeCartItem({\n      productId: _id\n    }));\n  };\n  if (props.onlyCartItems) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: Object.keys(cartItems).map((key, index) => /*#__PURE__*/_jsxDEV(CartItem, {\n        cartItem: cartItems[key],\n        onQuantityInc: onQuantityIncrement,\n        onQuantityDec: onQuantityDecrement\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))\n    }, void 0, false);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartContainer\",\n      style: {\n        alignItems: \"flex-start\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        headerLeft: `My Cart`,\n        headerRight: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Deliver to\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 24\n        }, this),\n        style: {\n          width: \"calc(100% - 400px)\",\n          overflow: \"hidden\"\n        },\n        children: [Object.keys(cartItems).map((key, index) => /*#__PURE__*/_jsxDEV(CartItem, {\n          cartItem: cartItems[key],\n          onQuantityInc: onQuantityIncrement,\n          onQuantityDec: onQuantityDecrement,\n          onRemoveCartItem: onRemoveCartItem\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            display: \"flex\",\n            background: \"#ffffff\",\n            justifyContent: \"flex-end\",\n            boxShadow: \"0 0 10px 10px #eee\",\n            padding: \"10px 0\",\n            boxSizing: \"border-box\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"250px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(MaterialButton, {\n              title: \"PLACE ORDER\",\n              onClick: () => props.history.push(`/checkout`)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PriceDetails, {\n        totalItem: Object.keys(cart.cartItems).reduce(function (qty, key) {\n          return qty + cart.cartItems[key].qty;\n        }, 0),\n        totalPrice: Object.keys(cart.cartItems).reduce((totalPrice, key) => {\n          const {\n            price,\n            qty\n          } = cart.cartItems[key];\n          return totalPrice + price * qty;\n        }, 0)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(CartPage, \"+z3/yAnkw0mXEsrjMbLZjmllRe4=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c = CartPage;\nexport default CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Layout","Card","CartItem","addToCart","getCartItems","removeCartItem","PriceDetails","MaterialButton","jsxDEV","_jsxDEV","Fragment","_Fragment","CartPage","props","_s","cart","state","auth","cartItems","setCartItems","dispatch","authenticate","onQuantityIncrement","_id","qty","name","price","img","onQuantityDecrement","onRemoveCartItem","productId","onlyCartItems","children","Object","keys","map","key","index","cartItem","onQuantityInc","onQuantityDec","fileName","_jsxFileName","lineNumber","columnNumber","className","style","alignItems","headerLeft","headerRight","width","overflow","display","background","justifyContent","boxShadow","padding","boxSizing","title","onClick","history","push","totalItem","reduce","totalPrice","_c","$RefreshReg$"],"sources":["C:/Users/jitta/MERN-ECOMMERCE/flipkart-clone/src/containers/CartPage/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Layout from \"../../components/Layout\";\r\nimport Card from \"../../components/UI/Card\";\r\nimport CartItem from \"./CartItem\";\r\nimport { addToCart, getCartItems, removeCartItem } from \"../../actions\";\r\nimport PriceDetails from \"../../components/PriceDetails\";\r\n\r\nimport \"./style.css\";\r\nimport { MaterialButton } from \"../../components/MaterialUI\";\r\n\r\n/**\r\n * @author\r\n * @function CartPage\r\n **/\r\n\r\n/*\r\nBefore Login\r\nAdd product to cart\r\nsave in localStorage\r\nwhen try to checkout ask for credentials and \r\nif logged in then add products to users cart database from localStorage\r\n\r\n\r\n*/\r\n\r\nconst CartPage = (props) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const auth = useSelector((state) => state.auth);\r\n  // const cartItems = cart.cartItems;\r\n  const [cartItems, setCartItems] = useState(cart.cartItems);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setCartItems(cart.cartItems);\r\n  }, [cart.cartItems]);\r\n\r\n  useEffect(() => {\r\n    if (auth.authenticate) {\r\n      dispatch(getCartItems());\r\n    }\r\n  }, [auth.authenticate]);\r\n\r\n  const onQuantityIncrement = (_id, qty) => {\r\n    //console.log({_id, qty});\r\n    const { name, price, img } = cartItems[_id];\r\n    dispatch(addToCart({ _id, name, price, img }, 1));\r\n  };\r\n\r\n  const onQuantityDecrement = (_id, qty) => {\r\n    const { name, price, img } = cartItems[_id];\r\n    dispatch(addToCart({ _id, name, price, img }, -1));\r\n  };\r\n\r\n  const onRemoveCartItem = (_id) => {\r\n    dispatch(removeCartItem({ productId: _id }));\r\n  };\r\n\r\n  if (props.onlyCartItems) {\r\n    return (\r\n      <>\r\n        {Object.keys(cartItems).map((key, index) => (\r\n          <CartItem\r\n            key={index}\r\n            cartItem={cartItems[key]}\r\n            onQuantityInc={onQuantityIncrement}\r\n            onQuantityDec={onQuantityDecrement}\r\n          />\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"cartContainer\" style={{ alignItems: \"flex-start\" }}>\r\n        <Card\r\n          headerLeft={`My Cart`}\r\n          headerRight={<div>Deliver to</div>}\r\n          style={{ width: \"calc(100% - 400px)\", overflow: \"hidden\" }}\r\n        >\r\n          {Object.keys(cartItems).map((key, index) => (\r\n            <CartItem\r\n              key={index}\r\n              cartItem={cartItems[key]}\r\n              onQuantityInc={onQuantityIncrement}\r\n              onQuantityDec={onQuantityDecrement}\r\n              onRemoveCartItem={onRemoveCartItem}\r\n            />\r\n          ))}\r\n\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              display: \"flex\",\r\n              background: \"#ffffff\",\r\n              justifyContent: \"flex-end\",\r\n              boxShadow: \"0 0 10px 10px #eee\",\r\n              padding: \"10px 0\",\r\n              boxSizing: \"border-box\",\r\n            }}\r\n          >\r\n            <div style={{ width: \"250px\" }}>\r\n              <MaterialButton\r\n                title=\"PLACE ORDER\"\r\n                onClick={() => props.history.push(`/checkout`)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </Card>\r\n        <PriceDetails\r\n          totalItem={Object.keys(cart.cartItems).reduce(function (qty, key) {\r\n            return qty + cart.cartItems[key].qty;\r\n          }, 0)}\r\n          totalPrice={Object.keys(cart.cartItems).reduce((totalPrice, key) => {\r\n            const { price, qty } = cart.cartItems[key];\r\n            return totalPrice + price * qty;\r\n          }, 0)}\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}